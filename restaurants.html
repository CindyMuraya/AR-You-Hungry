<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="title" content="AR You Hungry? - Say Goodbye to Boring Menus and Hello to a World Full of Flavor and Fun!">
	<meta name="description" content="Discover the best dining experience with us through our convenient reservation system.">
	<title>Ar You Hungry? | Restaurants</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	<link rel="shortcut-icon" type="image/svg+xml" href="./Images/favicon.svg">
	<link rel="shortcut icon" href="./Images/favicon.png" type="image/x-icon">
</head>
<body>
    <header>
        <div class="logo">
            <a href="./index.html" name="logo">
                <img src="Images/logo2.svg" alt="AR You Hungry? - Logo">
            </a>
        </div>
    </header>

    <h1 id="cuisine-title">Restaurants</h1>
    <div id="restaurants-list"></div>

<script>
// Get the cuisine from the query parameter
const urlParams = new URLSearchParams(window.location.search);
const cuisine = urlParams.get('cuisine');

// Set the title based on the cuisine
const titleElement = document.getElementById('cuisine-title');
if (cuisine) {
    titleElement.innerText = `${cuisine} Restaurants`;
} else {
    titleElement.innerText = 'All Restaurants';
}

// Example restaurants data
const restaurants = {
    All: [
        { name: 'Italian Bistro', location: 'New York', cuisine: 'Italian', rating: 4.5, tables: 10, image: 'Italian Bistro.jpg'},
        { name: 'Spice & Smoke BBQ', location: 'Seattle', cuisine: 'BBQ', rating: 4.3, tables: 12, image: 'Spice & Smoke BBQ.jpg'},
        { name: 'Szechuan Delight', location: 'San Francisco', cuisine: 'Chinese', rating: 4.7, tables: 15, image: 'Szechuan Delight.jpg'},
        { name: 'Taco Palace', location: 'Austin', cuisine: 'Mexican', rating: 4.3, tables: 12, image: 'Taco Palace.jpg'},
        { name: 'Spice Haven', location: 'Chicago', cuisine: 'Indian', rating: 4.6, tables: 8, image: 'Spice Haven.jpg'},
        { name: 'Sushi World', location: 'Los Angeles', cuisine: 'Sushi', rating: 4.8, tables: 20, image: 'Sushi World.jpg'},
        { name: 'Sushi Zen', location: 'New York', cuisine: 'Sushi', rating: 4.5, tables: 13, image: 'Sushi Zen.jpg'},
        { name: 'La Trattoria', location: 'Hollywood', cuisine: 'Italian', rating: 4.8, tables: 27, image: 'La Trattoria.jpg'},
        { name: 'Italiano\'s Trattoria', location: 'Dallas', cuisine: 'Italian', rating: 4.5, tables: 10, image: 'Italiano\'s Trattoria.jpg'},
        { name: 'The Sizzling Grill', location: 'Texas', cuisine: "Steak", rating: 4.7, tables: 14, image: 'Sizzling Grill.jpg' },
        { name: 'Sushi Paradise', location: 'California', cuisine: 'Sushi', rating: 4.7, tables: 15, image: 'Sushi Paradise.jpg'},
        { name: 'Curry Kingdom', location: 'New York', cuisine: 'Indian', rating: 4.8, tables: 24, image: 'Curry Kingdom.jpg'},
        { name: 'Mamma Mia Pizzeria', location: 'Texas', cuisine: "Pizza", rating: 4.4, tables: 16, image: 'Mamma Mia Pizzeria.jpg'},
        { name: 'Pizza Hut', location: 'Seattle', cuisine: 'Pizza', rating: 4.6, tables: 13, image: 'Pizza Hut.jpg'},
        { name: 'Burger Barn', location: 'Texas', cuisine: 'Burger', rating: 4.7, tables: 14, image: 'Burger Barn.jpg'},
        { name: 'Between Two Buns', location: 'Las Vegas', cuisine: "Burger", rating: 4.2, tables: 30, image: 'Between Two Buns.jpg'},
        { name: 'French Quarter', location: 'New Orleans', cuisine: "Pizza", rating: 4.9, tables: 18, image: 'French Quarter.jpg'},
        { name: 'BBQ Central', location: 'Dallas', cuisine: 'BBQ', rating: 4.6, tables: 25, image: 'BBQ Central.jpg'},
        { name: 'Italian Delight', location: 'Portland', cuisine: 'Italian', rating: 4.4, tables: 10, image: 'Italian Delight.jpg' },
        { name: 'The Tavern', location: 'Miami', cuisine: "Steak", rating: 4.5, tables: 15, image: 'The Tavern.jpg'},
        { name: 'Tapas Fiesta', location: 'San Diego', cuisine: "Mexican", rating: 4.7, tables: 12, image: 'Tapas Fiesta.jpg'},
        { name: 'Urban Burger', location: 'Nashville', cuisine: 'Burger', rating: 4.2, tables: 30, image: 'Urban Burger.jpg'},
        { name: 'Pho House', location: 'Seattle', cuisine: 'Chinese', rating: 4.6, tables: 10, image: 'Pho House.jpg'},
        { name: 'Ribs & Racks', location: 'Atlanta', cuisine: 'Steak', rating: 4.6, tables: 18, image: 'Ribs & Racks.jpg' },
        { name: 'Indian Spice', location: 'Phoenix', cuisine: 'Indian', rating: 4.7, tables: 15, image: 'Indian Spice.jpg' },
        { name: 'Mexican Magic', location: 'Las Vegas', cuisine: "Mexican", rating: 4.5, tables: 20, image: 'Mexican Magic.jpg' },
        { name: 'Korean BBQ Grill', location: 'Atlanta', cuisine: 'BBQ', rating: 4.8, tables: 18, image: 'Korean BBQ Grill.jpg'},
        { name: 'La Pasta', location: 'San Francisco', cuisine: 'Italian', rating: 4.6, tables: 12, image: 'La Pasta.jpg'},
        { name: 'Golden Dragon', location: 'Los Angeles', cuisine: 'Chinese', rating: 4.7, tables: 15, image: 'Golden Dragon.jpg'},
        { name: 'Fiesta Mexicana', location: 'Dallas', cuisine: "Mexican", rating: 4.3, tables: 12, image: 'Fiesta Mexicana.jpg'}
    ],
    Italian: [
        { name: 'Italian Bistro', location: 'New York', rating: 4.5, tables: 10, image: 'Italian Bistro.jpg'},
        { name: 'La Trattoria', location: 'Hollywood', rating: 4.8, tables: 27, image: 'La Trattoria.jpg'},
        { name: 'Italiano\'s Trattoria', location: 'Dallas', rating: 4.5, tables: 10, image: 'Italiano\'s Trattoria.jpg'},
        { name: 'Italian Delight', location: 'Portland', rating: 4.4, tables: 10,  image: 'Italian Delight.jpg'},
        { name: 'La Pasta', location: 'San Francisco', rating: 4.6, tables: 12, image: 'La Pasta.jpg'}
    ],
    Sushi: [
        { name: 'Sushi World', location: 'Los Angeles', rating: 4.8, tables: 20, image: 'Sushi World.jpg'},
        { name: 'Sushi Zen', location: 'New York', rating: 4.5, tables: 13, image: 'Sushi Zen.jpg'},
        { name: 'Sushi Paradise', location: 'California', rating: 4.7, tables: 15, image: 'Sushi Paradise.jpg'}
    ],
    Steak: [
        { name: 'The Sizzling Grill', location: 'Texas', rating: 4.7, tables: 14, image: 'Sizzling Grill.jpg'},
        { name: 'The Tavern', location: 'Miami', rating: 4.5, tables: 15, image: 'The Tavern.jpg'},
        { name: 'Ribs & Racks', location: 'Atlanta', rating: 4.6, tables: 18, image: 'Ribs & Racks.jpg' }
    ],
    BBQ: [
        { name: 'Spice & Smoke BBQ', location: 'Seattle', rating: 4.3, tables: 12, image: 'Spice & Smoke BBQ.jpg'},
        { name: 'BBQ Central', location: 'Dallas', rating: 4.6, tables: 25, image: 'BBQ Central.jpg'},
        { name: 'Korean BBQ Grill', location: 'Atlanta', cuisine: 'BBQ', rating: 4.8, tables: 18, image: 'Korean BBQ Grill.jpg'},
    ],
    Indian: [
        { name: 'Spice Haven', location: 'Chicago', cuisine: 'Indian', rating: 4.6, tables: 8, image: 'Spice Haven.jpg'},
        { name: 'Curry Kingdom', location: 'New York', rating: 4.8, tables: 24, image: 'Curry Kingdom.jpg'},
        { name: 'Indian Spice', location: 'Phoenix', rating: 4.7, tables: 15, image: 'Indian Spice.jpg'}
    ],
    Pizza: [
        { name: 'Mamma Mia Pizzeria', location: 'Texas', rating: 4.4, tables: 16, image: 'Mamma Mia Pizzeria.jpg'},
        { name: 'Pizza Hut', location: 'Seattle', rating: 4.6, tables: 13, image: 'Pizza Hut.jpg'},
        { name: 'French Quarter', location: 'New Orleans', rating: 4.9, tables: 18, image: 'French Quarter.jpg'}
    ],
    Burger: [
        { name: 'Burger Barn', location: 'Texas', rating: 4.7, tables: 14, image: 'Burger Barn.jpg'},
        { name: 'Between Two Buns', location: 'Las Vegas', rating: 4.2, tables: 30, image: 'Between Two Buns.jpg'},
        { name: 'Urban Burger', location: 'Nashville', rating: 4.2, tables: 30, image: 'Urban Burger.jpg'}
    ],
    Chinese: [
        { name: 'Szechuan Delight', location: 'San Francisco', rating: 4.7, tables: 15, image: 'Szechuan Delight.jpg'},
        { name: 'Pho House', location: 'Seattle', cuisine: 'Chinese', rating: 4.6, tables: 10, image: 'Pho House.jpg'},
        { name: 'Golden Dragon', location: 'Los Angeles', rating: 4.7, tables: 15, image: 'Golden Dragon.jpg'}
    ],
    Mexican: [
        { name: 'Taco Palace', location: 'Austin', cuisine: 'Mexican', rating: 4.3, tables: 12, image: 'Taco Palace.jpg'},
        { name: 'Tapas Fiesta', location: 'San Diego', rating: 4.7, tables: 12, image: 'Tapas Fiesta.jpg'},
        { name: 'Mexican Magic', location: 'Las Vegas', rating: 4.5, tables: 20, image: 'Mexican Magic.jpg'},
        { name: 'Fiesta Mexicana', location: 'Dallas', rating: 4.3, tables: 12, image: 'Fiesta Mexicana.jpg'}
    ]
};

// Display the restaurants
const listContainer = document.getElementById('restaurants-list');
const cuisineRestaurants = restaurants[cuisine || 'All'];

if (cuisineRestaurants && cuisineRestaurants.length > 0) {
cuisineRestaurants.forEach(restaurant => {
    const restaurantCard = document.createElement('div');
    restaurantCard.className = 'restaurant-card';

    const restaurantImage = document.createElement('img');
    restaurantImage.src = `Images/${restaurant.image}`;
    restaurantImage.alt = restaurant.name;

    const restaurantName = document.createElement('h3');
    restaurantName.innerText = restaurant.name;

    const restaurantLocation = document.createElement('p');
    restaurantLocation.innerText = restaurant.location;

    const restaurantCuisine = document.createElement('p');
    restaurantCuisine.innerText = restaurant.cuisine;

    const reservationButton = document.createElement('button');
    reservationButton.innerText = 'Reserve Table';
    reservationButton.onclick = () => makeReservation(restaurant.name);

    restaurantCard.appendChild(restaurantImage);
    restaurantCard.appendChild(restaurantName);
    restaurantCard.appendChild(restaurantLocation);
    restaurantCard.appendChild(restaurantCuisine);
    restaurantCard.appendChild(reservationButton);

    listContainer.appendChild(restaurantCard);
});
} else {
listContainer.innerText = 'No restaurants available.';
}

function makeReservation(restaurantName) {
  const reservationForm = document.createElement('div');
  reservationForm.innerHTML = `
      <h2>Make a Reservation at ${restaurantName}</h2>
      <form id="reservation-form">
          <input type="hidden" name="restaurantName" value="${restaurantName}">
          <label for="customerName">Name:</label>
          <input type="text" id="customerName" name="customerName" required><br>
          <label for="date">Date:</label>
          <input type="date" id="date" name="date" required><br>
          <label for="time">Time:</label>
          <input type="time" id="time" name="time" required><br>
          <label for="numberOfPeople">Number of People:</label>
          <input type="number" id="numberOfPeople" name="numberOfPeople" required><br>
          <button type="submit">Reserve</button>
      </form>
      <button onclick="closeForm()">Cancel</button>
  `;
  document.body.appendChild(reservationForm);

  document.getElementById('reservation-form').addEventListener('submit', async (event) => {
      event.preventDefault();
      const formData = new FormData(event.target);
      const reservationData = {
          restaurantName: formData.get('restaurantName'),
          customerName: formData.get('customerName'),
          date: formData.get('date'),
          time: formData.get('time'),
          numberOfPeople: formData.get('numberOfPeople')
      };

      try {
          const response = await fetch('http://localhost:5000/reservations', {
              method: 'POST',
              headers: {
                  'Content-Type': 'application/json'
              },
              body: JSON.stringify(reservationData)
          });

          if (response.ok) {
              alert('Reservation made successfully!');
              closeForm();
          } else {
              alert('Failed to make reservation. Please try again.');
          }
      } catch (err) {
          console.error('Error making reservation:', err);
          alert('Error making reservation. Please try again.');
      }
  });
}

function closeForm() {
  const form = document.querySelector('div');
  if (form) {
      document.body.removeChild(form);
  }
}
</script>

    <!-- #FOOTER -->
	<section class="footer">
		<center>
			&copy; <p> 2024 <a href="./index.html">AR You Hungry?</a> All rights reserved.</p>
		</center>
	</section>

	<script src="./script.js"></script>
</body>
</html>
